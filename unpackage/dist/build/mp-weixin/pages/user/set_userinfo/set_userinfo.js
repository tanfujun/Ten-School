(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/set_userinfo/set_userinfo"],{3869:function(e,t,a){"use strict";var n=a("8850"),r=a.n(n);r.a},"3c09":function(e,t,a){"use strict";(function(e){var t=a("4ea4");a("6e79"),a("a9ff");t(a("66fd"));var n=t(a("eaee"));wx.__webpack_require_UNI_MP_PLUGIN__=a,e(n.default)}).call(this,a("543d")["createPage"])},"5ece":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},r=[]},8850:function(e,t,a){},"9b9c":function(e,t,a){"use strict";a.r(t);var n=a("d1a1"),r=a.n(n);for(var u in n)["default"].indexOf(u)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(u);t["default"]=r.a},d1a1:function(e,t,a){"use strict";(function(e,n){var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(a("a34a")),o=r(a("c973")),s=(a("2ef0"),e.importObject("user")),i={data:function(){return{username:"",phone:"123123",avatar:"https://wx.qlogo.cn/mmopen/vi_32/Hx7MFkCEmZVHziaTTiaHSiaCs4ApnH5CD0nYOhOg1nYUUMYtxMXkL6L4VL5icRfO5w4LGzW5ib0FZicwj2MficyYfZgCw/132"}},computed:{openid:function(){return this.$store.state.user.openid}},methods:{onChange:function(e){console.log(e.detail)},updateImage:function(){var t=this;n.chooseMedia({count:1,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(){var a=(0,o.default)(u.default.mark((function a(n){var r,o;return u.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.tempFiles[0].tempFilePath,a.next=3,e.uploadFile({filePath:r,cloudPath:"".concat((new Date).getTime(),"2022.jpg"),onUploadProgress:function(e){console.log(e);Math.round(100*e.loaded/e.total)}});case 3:o=a.sent,t.avatar=o.fileID;case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})},update:function(){var e=this;return(0,o.default)(u.default.mark((function t(){var a;return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.updateUserInfo({user_id:e.openid,user_name:e.username,user_avatar:e.avatar,user_phone:e.phone});case 2:a=t.sent,200==a.status&&(n.showToast({title:"更改成功！"}),e.$store.dispatch("getUserInfo",e.openid),setTimeout((function(){n.navigateBack()}),1e3));case 4:case"end":return t.stop()}}),t)})))()}},onLoad:function(){this.username=this.$store.state.user.userinfo.user_name,this.avatar=this.$store.state.user.userinfo.user_avatar,this.phone=this.$store.state.user.userinfo.user_phone}};t.default=i}).call(this,a("a9ff")["default"],a("543d")["default"])},eaee:function(e,t,a){"use strict";a.r(t);var n=a("5ece"),r=a("9b9c");for(var u in r)["default"].indexOf(u)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(u);a("3869");var o=a("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"3f2332ef",null,!1,n["a"],void 0);t["default"]=s.exports}},[["3c09","common/runtime","common/vendor"]]]);